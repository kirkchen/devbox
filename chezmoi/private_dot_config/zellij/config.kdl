// Zellij Configuration
// Remapped keys to avoid conflicts with Claude Code (Ctrl+t, Ctrl+o, Ctrl+g)

pane_frames false
copy_on_select true
session_serialization true

keybinds {
    // Remap Ctrl+t (tab mode) -> Alt+t
    // Remap Ctrl+o (session mode) -> Alt+o
    // Remap Ctrl+g (lock mode) -> Alt+g
    normal {
        unbind "Ctrl t"
        unbind "Ctrl o"
        unbind "Ctrl g"
        bind "Alt t" { SwitchToMode "tab"; }
        bind "Alt o" { SwitchToMode "session"; }
        bind "Alt g" { SwitchToMode "locked"; }
        // Alt+e: Open exec mode Claude Code (continue last conversation, skip permissions)
        bind "Alt e" { Run "claude" "-c" "--dangerously-skip-permissions"; }
    }
    tab {
        unbind "Ctrl t"
        bind "Alt t" { SwitchToMode "normal"; }
    }
    session {
        unbind "Ctrl o"
        bind "Alt o" { SwitchToMode "normal"; }
    }
    locked {
        unbind "Ctrl g"
        bind "Alt g" { SwitchToMode "normal"; }
    }
    // Also remap in shared contexts where these keys appear
    shared_except "normal" "locked" {
        unbind "Ctrl g"
        bind "Alt g" { SwitchToMode "locked"; }
    }
    shared_except "normal" "tab" {
        unbind "Ctrl t"
        bind "Alt t" { SwitchToMode "tab"; }
    }
    shared_except "normal" "session" {
        unbind "Ctrl o"
        bind "Alt o" { SwitchToMode "session"; }
    }
}
